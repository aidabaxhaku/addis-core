<div ui-view>
  <navbar-directive> </navbar-directive>
  <ul class="breadcrumbs fixed">
    <li><a ui-sref="datasets({userUid: user.id})">{{user.firstName}} {{user.lastName}}</a></li>
    <li><a ui-sref="datasets({userUid: userUid})">Datasets</a></li>
    <li ng-if="!versionUuid"><a ui-sref="dataset({userUid: userUid, datasetUuid: datasetUuid})">{{dataset.title}}</a></li>
    <li class="current active">Intermediate Import </li>
  </ul>

  <div class="grid-container">
    <div class="grid-x nav-bar-spacer">
      <div ng-hide="navSettings.isHidden"
        class="cell large-2 medium-3 show-for-medium-up">
        <div class="columns small-6 right"
          data-sticky-container>
          <div class="sticky"
            data-sticky
            data-margin-top="0">
            
            <ul class="side-nav">
              <li> <a ng-click="sideNavClick('intermediate-arm')" ui-sref="intermediate-arm({userUid: userUid, datasetUuid: datasetUuid, studyGraphUuid: studyGraphUuid})">Arms</a></li>
              <li class="divider"></li>

              <li><a ng-click="sideNavClick('intermediate-epoch')" ui-sref="intermediate-epoch({userUid: userUid, datasetUuid: datasetUuid, studyGraphUuid: studyGraphUuid})">Epochs</a></li>
              <li class="divider"></li>

              <li><a ng-click="sideNavClick('intermediate-activity')" ui-sref="intermediate-activity({userUid: userUid, datasetUuid: datasetUuid, studyGraphUuid: studyGraphUuid})">Activities</a></li>
              <li class="divider"></li>

              <li><a ng-click="sideNavClick('intermediate-designTable')" ui-sref="intermediate-designTable({userUid: userUid, datasetUuid: datasetUuid, studyGraphUuid: studyGraphUuid})">Study Design</a></li>
              <li class="divider"></li>

              <li class="current active">Measurement moments</li>
            </ul>
          </div>
        </div>
      </div>

      <div class="cell large-10 medium-9 small-12 nav-bar-spacer"
        ng-class="{'large-12 medium-12': navSettings.isHidden}">
        <div class="grid-container">
          <div class="grid-x"
            style="margin-bottom: 1rem;">

            <div class="cell large-10">
              <h1> Repair measurement moments </h1>
              <div ng-if="study.nctId"><a ng-href="{{study.nctUri}}" target="_blank">This is {{::study.nctId}}</a></div>

              <h2> Measurement moments </h2>
              <h5> Please fix the measurement moments below!</h5>

              <div class="panel callout primary clearfix"
                ng-repeat="measurementMoment in measurementMoments">
                {{measurementMoment.label}}
                <a ng-click="editMeasurementMoment(measurementMoment)" title="edit"> <i class="fa fa-edit fa-2x fa-fw"></i> </a>
                <a ng-click="mergeMeasurementMoment(measurementMoment)" title="merge"><i class="fa fa-code-fork fa-rotate-180 fa-2x fa-fw"></i> </a>
                <a ng-click="deleteMeasurementMoment(measurementMoment)" title="delete" ng-show="!isSingleItem"><i class="fa fa-trash-o fa-2x fa-fw"></i></a>
              </div>

              <button ng-click="addMeasurementMoment()"
                type="button"
                class="button">Add <i class="fa fa-plus"></i>
              </button>
              <button ng-click="previous()"
                type="button"
                class="button"> <i class="fa fa-backward"></i> Previous
              </button>

              <button ng-click="next()"
                type="button"
                class="button">Next <i class="fa fa-forward"></i>
              </button>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>