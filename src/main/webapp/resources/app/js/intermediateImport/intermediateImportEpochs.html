<div ui-view>
  <navbar-directive> </navbar-directive>

  <ul class="breadcrumbs fixed">
    <li><a ui-sref="datasets({userUid: user.id})">{{user.firstName}} {{user.lastName}}</a></li>
    <li><a ui-sref="datasets({userUid: userUid})">Datasets</a></li>
    <li ng-if="!versionUuid"><a ui-sref="dataset({userUid: userUid, datasetUuid: datasetUuid})">{{dataset.title}}</a></li>
    <li><a ui-sref="intermediate-arm({userUid: userUid, datasetUuid: datasetUuid, studyGraphUuid: studyGraphUuid})">Arms</a></li>
    <li class="current active">Epochs</li>
    <li><a ui-sref="intermediate-activity({userUid: userUid, datasetUuid: datasetUuid, studyGraphUuid: studyGraphUuid})">Activities</a></li>
    <li><a ui-sref="intermediate-measurementMoment({userUid: userUid, datasetUuid: datasetUuid, studyGraphUuid: studyGraphUuid})">Measurement moments</a></li>
  </ul>

  <div class="grid-container">
    <div class="grid-x">
      <div class="cell large-2 medium-3 show-for-medium-up"
        role="navigation"
        title="Categories">
        <div class="align-left">
          <ul class="side-nav">
            <li> <a ng-click="sideNavClick('intermediate-arm')" ui-sref="intermediate-arm({userUid: userUid, datasetUuid: datasetUuid, studyGraphUuid: studyGraphUuid})">Arms </a></li>
            <li class="divider"></li>
            <li class="current active">Epochs</li>
            <li class="divider"></li>
            <li><a ng-click="sideNavClick('intermediate-activity')" ui-sref="intermediate-activity({userUid: userUid, datasetUuid: datasetUuid, studyGraphUuid: studyGraphUuid})">Activities</a></li>
            <li class="divider"></li>
            <li> <a ng-click="sideNavClick('intermediate-measurementMoment')" ui-sref="intermediate-measurementMoment({userUid: userUid, datasetUuid: datasetUuid, studyGraphUuid: studyGraphUuid})">Measurement moments</a></li>
            <li class="divider"></li>
          </ul>
        </div>
      </div>

      <div class="grid-container">
        <h1>Repair epochs</h1>
        <div ng-if="epochs.length === 0">
          <h5>No epochs are defined. Please add epochs in your study.</h5>
        </div>
        <div ng-repeat="epoch in epochs"
          class="panel callout primary clearfix">
          {{epoch.label}}
          <a ng-click="editEpoch(epoch)" title="edit"> <i class="fa fa-edit fa-2x fa-fw"></i> </a>
          <a ng-click="deleteEpoch(epoch)" title="delete" ng-show="!isSingleItem"><i class="fa fa-trash-o fa-2x fa-fw"></i></a>
        </div>
        <!-- Suggestion divs -->
        <div class="panel callout">
          {{screening.label}}
          <a ng-click="editEpoch(screening)" title="accept"> <i class="fa fa-check fa-2x fa-fw"></i> </a>
          <a ng-click="isShowHide('hide')" title="don't accept"> <i class="fa fa-times fa-2x fa-fw"></i> </a>
        </div>
        <button ng-click="addEpoch(epoch)"
          type="button"
          class="button">Add <i class="fa fa-plus"></i>
        </button>
        <results-table variable="arms"
          arms="arms"
          groups="groups"
          measurement-moments="measurementMoments"
          is-editing-allowed="isEditingAllowed">
        </results-table>

        <div class="grid-container">
          <button ng-click="previous()"
            type="button"
            class="button"><i class="fa fa-backward"></i> Previous
          </button>
          <button ng-click="nextActivity()"
            type="button"
            class="button">Next <i class="fa fa-forward"></i>
          </button>
          <div ng-if='alert !== ""'
            data-alert
            class="alert-box alert"> {{ alert }}
          </div>
        </div>
      </div>
    </div>